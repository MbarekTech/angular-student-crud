<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="mb-0">Liste des étudiants</h2>
    <a routerLink="/add-student" class="btn btn-success">Ajouter un étudiant</a>
  </div>

  <div class="input-group mb-3">
    <input
      type="text"
      class="form-control"
      placeholder="Rechercher un étudiant (Nom, Prénom, Filière)..."
      [(ngModel)]="searchTerm"
      (input)="onSearch()"
    />
    <button class="btn btn-outline-secondary" type="button" (click)="onSearch()">
      <i class="bi bi-search"></i>
      Rechercher
    </button>
  </div>

  <div class="table-responsive">
    <table class="table table-striped table-bordered table-hover">
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Nom</th>
          <th>Prénom</th>
          <th>Email</th>
          <th>Téléphone</th>
          <th>Date de naissance</th>
          <th>Filière</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let student of filteredStudents">
          <td>{{ student.id }}</td>
          <td>{{ student.nom }}</td>
          <td>{{ student.prenom }}</td>
          <td><a href="mailto:{{ student.email }}">{{ student.email }}</a></td>
          <td><a href="tel:{{ student.tel }}">{{ student.tel }}</a></td>
          <td>{{ student.date_naissance | date: 'dd/MM/yyyy' }}</td>
          <td>{{ student.filiere }}</td>
          <td>
            <div class="d-flex gap-2">
              <a
                class="btn btn-outline-primary btn-sm"
                [routerLink]="['/edit-student', student.id]"
                title="Modifier"
              >
                <i class="bi bi-pencil"></i>
                modifier
              </a>
              <button
                class="btn btn-outline-danger btn-sm"
                (click)="deleteStudent(student.id)"
                title="Supprimer"
              >
                <i class="bi bi-trash"></i>
                supprimer
              </button>
            </div>
          </td>
        </tr>
        <tr *ngIf="filteredStudents.length === 0">
          <td colspan="8" class="text-center text-muted">Aucun étudiant trouvé.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>